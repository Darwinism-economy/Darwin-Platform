<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Vault - Darwin Launchpad</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .btn-primary {
            @apply bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200;
        }
        .card {
            @apply bg-white rounded-xl shadow-sm border border-gray-200 p-6;
        }
        .input-field {
            @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
        }
        .section-box {
            @apply p-4 rounded-lg border border-gray-200;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold">ðŸš€</span>
                    </div>
                    <span class="text-xl font-bold text-gray-900">Darwin Launchpad</span>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="connectWallet()" class="btn-primary">Connect Wallet</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Page Header -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Create Vault</h1>
                <p class="text-gray-600">Create your own digital token with automatic tax collection and distribution</p>
            </div>

            <!-- Token Creation Form -->
            <div class="card">
                <form id="vaultForm">
                    <!-- Basic Token Details -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Token Details</h3>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Token Name</label>
                                <input type="text" id="tokenName" value="DARWIN" class="input-field" placeholder="e.g., Darwin Token">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Token Symbol</label>
                                <input type="text" id="tokenSymbol" value="WIN" class="input-field" placeholder="e.g., WIN">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Total Supply</label>
                                <input type="number" id="totalSupply" value="1000000" class="input-field" placeholder="1000000">
                            </div>
                        </div>
                    </div>

                    <!-- Team Allocation -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Team Allocation</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Team Allocation (%)</label>
                                <input type="number" id="teamAllocation" value="10" class="input-field" onchange="updateTeamAllocation()">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">LP Allocation (%)</label>
                                <input type="number" id="lpAllocation" value="10" class="input-field" onchange="updateAllocationSummary()">
                            </div>
                        </div>
                    </div>

                    <!-- Team Wallets Section -->
                    <div class="mb-6 section-box bg-blue-50">
                        <div class="flex items-center space-x-2 mb-4">
                            <span class="text-blue-600 text-lg">ðŸ”µ</span>
                            <h4 class="text-lg font-semibold text-gray-900">Team Wallets</h4>
                        </div>
                        <p class="text-sm text-gray-600 mb-4">Add team wallets and their allocation percentages (sum must equal team allocation)</p>
                        
                        <div id="teamWallets" class="space-y-3 mb-4">
                            <div class="wallet-entry flex space-x-2">
                                <input type="text" value="Wallet 1" class="flex-1 input-field text-sm" placeholder="Wallet Address">
                                <input type="number" value="6" class="w-20 input-field text-sm" placeholder="%" onchange="updateTeamAllocation()">
                                <button type="button" onclick="removeWallet(this)" class="px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600">Remove</button>
                            </div>
                            <div class="wallet-entry flex space-x-2">
                                <input type="text" value="Wallet 2" class="flex-1 input-field text-sm" placeholder="Wallet Address">
                                <input type="number" value="4" class="w-20 input-field text-sm" placeholder="%" onchange="updateTeamAllocation()">
                                <button type="button" onclick="removeWallet(this)" class="px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600">Remove</button>
                            </div>
                        </div>
                        
                        <button type="button" onclick="addWallet()" class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700">+ Add Wallet</button>
                        
                        <div id="teamAllocationSummary" class="mt-3 p-3 bg-green-100 rounded-lg text-sm text-green-700">
                            Team allocation: 10% (6% + 4%)
                        </div>
                    </div>

                                         <!-- Tax Configuration -->
                     <div class="mb-6">
                         <h3 class="text-lg font-semibold text-gray-900 mb-4">Tax Configuration</h3>
                         <div class="grid md:grid-cols-1 gap-4">
                             <div>
                                 <label class="block text-sm font-medium text-gray-700 mb-2">Tax Rate (%)</label>
                                 <input type="number" id="taxRate" value="6" class="input-field" placeholder="6">
                                 <p class="text-xs text-gray-500 mt-1">Applies to both buy and sell transactions</p>
                             </div>
                         </div>
                     </div>

                     <!-- Airdrop Configuration -->
                     <div class="mb-6 section-box bg-yellow-50">
                         <div class="flex items-center space-x-2 mb-4">
                             <span class="text-yellow-600 text-lg">ðŸŸ¡</span>
                             <h4 class="text-lg font-semibold text-gray-900">Airdrop Configuration</h4>
                         </div>
                         <div class="grid md:grid-cols-1 gap-4">
                             <div>
                                 <label class="block text-sm font-medium text-gray-700 mb-2">Minimum Holding for Daily Airdrop (tokens)</label>
                                 <input type="number" id="minHoldingForAirdrop" value="1000" class="input-field" placeholder="1000">
                                 <p class="text-xs text-gray-500 mt-1">Minimum tokens required to qualify for daily tax distribution</p>
                             </div>
                         </div>
                     </div>

                                         <!-- Auction Configuration -->
                     <div class="mb-6 section-box bg-green-50">
                         <div class="flex items-center space-x-2 mb-4">
                             <span class="text-green-600 text-lg">ðŸŸ¢</span>
                             <h4 class="text-lg font-semibold text-gray-900">Auction Configuration</h4>
                         </div>
                         <div class="grid md:grid-cols-2 gap-4">
                             <div>
                                 <label class="block text-sm font-medium text-gray-700 mb-2">Minimum Tokens Bid Amount</label>
                                 <input type="number" id="minBidAmount" value="1001" class="input-field text-sm" placeholder="1000">
                             </div>
                             <div>
                                 <label class="block text-sm font-medium text-gray-700 mb-2">Treasury Distribution Timer (days)</label>
                                 <input type="number" id="treasuryDistributionDays" value="1" class="input-field text-sm" placeholder="1">
                                 <p class="text-xs text-gray-500 mt-1">Days before treasury gets distributed to qualified holders if no new bid</p>
                             </div>
                         </div>
                     </div>

                    <!-- Token Allocation Summary -->
                    <div class="mb-6 section-box bg-green-50">
                        <div class="flex items-center space-x-2 mb-4">
                            <span class="text-green-600 text-lg">ðŸŸ¢</span>
                            <h4 class="text-lg font-semibold text-gray-900">Token Allocation Summary</h4>
                        </div>
                        <div id="allocationSummary" class="grid md:grid-cols-3 gap-4 text-sm">
                            <div class="p-3 bg-white rounded-lg border">
                                <div class="font-medium text-gray-900">100,000</div>
                                <div class="text-gray-600">Team 10%</div>
                            </div>
                            <div class="p-3 bg-white rounded-lg border">
                                <div class="font-medium text-gray-900">100,000</div>
                                <div class="text-gray-600">LP 10%</div>
                            </div>
                            <div class="p-3 bg-white rounded-lg border">
                                <div class="font-medium text-gray-900">800,000</div>
                                <div class="text-gray-600">Public Sale 80%</div>
                            </div>
                        </div>
                    </div>

                    

                    <!-- Create Button -->
                    <div class="text-center">
                        <button type="button" onclick="createVault()" class="btn-primary text-lg px-8 py-3">
                            Create Vault
                        </button>
                    </div>
                </form>
            </div>

            <!-- Information Panel -->
            <div class="mt-8 card">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">How It Works</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">1. Token Creation</h4>
                        <p class="text-sm text-gray-600">Your token will be deployed on Solana with automatic tax collection and distribution mechanisms.</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">2. Fundraising Period</h4>
                        <p class="text-sm text-gray-600">24-hour SOL-only fundraising with bonding curve pricing for fair token distribution.</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">3. Last Man Standing Auction</h4>
                        <p class="text-sm text-gray-600">Unique auction system where the last bidder wins the treasury if no new bid within the timer.</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">4. Automatic Distribution</h4>
                        <p class="text-sm text-gray-600">Taxes from trading are automatically distributed to qualified holders every 24 hours.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Wallet management
        function addWallet() {
            const container = document.getElementById('teamWallets');
            const walletEntry = document.createElement('div');
            walletEntry.className = 'wallet-entry flex space-x-2';
            walletEntry.innerHTML = `
                <input type="text" class="flex-1 input-field text-sm" placeholder="Wallet Address">
                <input type="number" class="w-20 input-field text-sm" placeholder="%" onchange="updateTeamAllocation()">
                <button type="button" onclick="removeWallet(this)" class="px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600">Remove</button>
            `;
            container.appendChild(walletEntry);
        }

        function removeWallet(button) {
            const walletEntry = button.parentElement;
            walletEntry.remove();
            updateTeamAllocation();
        }

        // Update team allocation summary
        function updateTeamAllocation() {
            const teamAllocation = parseInt(document.getElementById('teamAllocation').value) || 0;
            const walletInputs = document.querySelectorAll('#teamWallets input[type="number"]');
            let totalPercentage = 0;
            
            walletInputs.forEach(input => {
                totalPercentage += parseInt(input.value) || 0;
            });

            const summary = document.getElementById('teamAllocationSummary');
            if (totalPercentage === teamAllocation) {
                summary.className = 'mt-3 p-3 bg-green-100 rounded-lg text-sm text-green-700';
                summary.textContent = `Team allocation: ${teamAllocation}% (${Array.from(walletInputs).map(input => input.value + '%').join(' + ')})`;
            } else {
                summary.className = 'mt-3 p-3 bg-red-100 rounded-lg text-sm text-red-700';
                summary.textContent = `Team allocation mismatch: ${totalPercentage}% â‰  ${teamAllocation}%`;
            }
            
            updateAllocationSummary();
        }

        // Update allocation summary
        function updateAllocationSummary() {
            const totalSupply = parseInt(document.getElementById('totalSupply').value) || 1000000;
            const teamAllocation = parseInt(document.getElementById('teamAllocation').value) || 0;
            const lpAllocation = parseInt(document.getElementById('lpAllocation').value) || 0;
            const publicSale = 100 - teamAllocation - lpAllocation;

            const summary = document.getElementById('allocationSummary');
            summary.innerHTML = `
                <div class="p-3 bg-white rounded-lg border">
                    <div class="font-medium text-gray-900">${(totalSupply * teamAllocation / 100).toLocaleString()}</div>
                    <div class="text-gray-600">Team ${teamAllocation}%</div>
                </div>
                <div class="p-3 bg-white rounded-lg border">
                    <div class="font-medium text-gray-900">${(totalSupply * lpAllocation / 100).toLocaleString()}</div>
                    <div class="text-gray-600">LP ${lpAllocation}%</div>
                </div>
                <div class="p-3 bg-white rounded-lg border">
                    <div class="font-medium text-gray-900">${(totalSupply * publicSale / 100).toLocaleString()}</div>
                    <div class="text-gray-600">Public Sale ${publicSale}%</div>
                </div>
            `;
        }

                 // Create vault function
         function createVault() {
             const tokenName = document.getElementById('tokenName').value;
             const tokenSymbol = document.getElementById('tokenSymbol').value;
             const totalSupply = document.getElementById('totalSupply').value;
             const teamAllocation = document.getElementById('teamAllocation').value;
             const taxRate = document.getElementById('taxRate').value;
             const minHoldingForAirdrop = document.getElementById('minHoldingForAirdrop').value;
             const treasuryDistributionDays = document.getElementById('treasuryDistributionDays').value;

             if (!tokenName || !tokenSymbol || !totalSupply || !teamAllocation || !taxRate || !minHoldingForAirdrop || !treasuryDistributionDays) {
                 alert('Please fill in all required fields');
                 return;
             }

             // Validate team allocation
             const walletInputs = document.querySelectorAll('#teamWallets input[type="number"]');
             let totalPercentage = 0;
             walletInputs.forEach(input => {
                 totalPercentage += parseInt(input.value) || 0;
             });

             if (totalPercentage !== parseInt(teamAllocation)) {
                 alert('Team wallet allocation percentages must equal the total team allocation');
                 return;
             }

             // Simulate vault creation
             alert(`Vault "${tokenName}" (${tokenSymbol}) created successfully!\n\nToken Details:\n- Total Supply: ${totalSupply}\n- Team Allocation: ${teamAllocation}%\n- Tax Rate: ${taxRate}% (applies to buy/sell)\n- Minimum Holding for Airdrop: ${minHoldingForAirdrop} tokens\n- Treasury Distribution Timer: ${treasuryDistributionDays} days\n\nIn a real app, this would deploy the token on Solana with all the specified parameters.`);
         }

        // Connect wallet function
        function connectWallet() {
            alert('Wallet connection simulated! In a real app, this would connect to Phantom, Solflare, or Backpack wallet.');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateTeamAllocation();
            updateAllocationSummary();
        });
    </script>
</body>
</html> 